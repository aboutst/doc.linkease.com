### 跨大版本升级说明
* 这是 24.10，从 22.03 升级的话，升级前做好备份。如果要备份所有插件和配置文件，可以参考这个[视频](https://www.bilibili.com/video/BV1eFJVzbEjU/?t=181)  ，这个备份可能要花几分钟时间。如果只需要备份配置文件，可以使用系统原生的备份功能，例如 ```http://istoreos.lan/cgi-bin/luci/admin/system/flash``` 。

* 升级前，最好先执行下修复系统组件：从iStore安装“系统便利工具”，打开，选择“修复系统软件”，执行。

* 防火墙切换到 nftables，有些插件可能不兼容，或者插件需要手动选择防火墙类型。
* 如果状态-防火墙页面显示“系统上存在旧版 iptables 规则。 不鼓励混合使用 iptables 和 nftables 规则，这可能会导致流量过滤不完整。”，如果有基于防火墙的透明代理/去广告/网络管控插件，更新到最新版本，插件中选择防火墙类型 nftables。其他统计类插件一般可以忽略此提醒。目前“简单网络管控”插件不兼容，等未来更新。

* socat更新支持了fw4，但是版本号命名规范变了，必须从istore卸载重装，配置会保留的。

* tailscale插件也支持了fw4，如果不确定是否最新版本可以卸载重装。tailscale有bug，即使是nftables模式下依然会有2条规则写到iptables，但是不影响使用，所以忽略防火墙“系统上存在旧版 iptables 规则...”的提示。

* 如果从 22.03 升级还有严重兼容性问题，建议备份配置文件，然后不保留配置升级，之后再恢复配置并安装新的插件。

（此说明可能会持续一段时间，如果已经升级 24.10 可忽略）

### 系统
* 修复 bonding 内核模块未集成的问题

### 应用
* 应用过滤（OpenAppFilter）：

-升级到最新版本

-导航菜单跟原版一样，在“服务”里（之前在“网络”里）

-插件功能默认未开启，在“高级设置”勾选“自动加载oaf驱动”并保存才会启用

-时间段设置有变化，可能需要重新设置，默认全时段

-相较于 OpenAppFilter 原始版本，支持阻断已建立的连接。例如某个APP（或网站）原本允许访问，客户端也正在访问此APP，现在禁止此APP可切断之前已建立的连接

-如果找不到想要拦截的应用或网站，可以尝试下载更新特征库。在插件的“应用特征库”页面，有官方网站链接，前往下载 feature3.0 开头的特征库，下载到的zip文件需要解压，其中的bin文件才能上传
* Zerotier：插件实现了fw4下自动NAT功能

* 实时流量：插件已适配fw4

### 设备
* R5S/R4S/R2S：加回 pwm风扇控制。如果从22.03升级，R5S的前面两个LAN LED会失效，因为LED名称变了，可以在后台-系统-LED配置中，点击编辑，重新选择正确的LED。

